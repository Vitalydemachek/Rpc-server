# Rpc-server

Описание задания
Реализация клиента и сервера, взаимодействующих посредством вымышленного бинарного протокола, с целью обеспечения примитивного вызова удаленных функций.
Язык программирования: Java
Платформа: J2SE 1.8
Протокол транспортного уровня: TCP
Oписание протокола
В протокол присутствуют команды и ответы на них.Клиент передаёт команду серверу и получает ответ.Каждая команда идентифицируется уникальным, в рамках
сесии, порадковым номером. Ответ содержит порядковый номер инициировавшей его команды.За генерацию и уникальность порядковых номеров ответственность несет клиент, 
сервер лишь прописывает в ответе тот порядковый номер,который получ в зanpoce.
Формат команды/ответа
Команда должна содержать обязательные поляЖ
- Порадовый номерный (уникальный в сессии)
- Название сервиса 
- Название функции(метода)
- Список обьектов(параметры функции)
Ответ должен содержать:
- Порадовый номер команды (тот который был в запросе)
- Обьект - результатвыполнения метода
Порядковый номер, в данном случае, передается для того, чтобы была возможность через одно ТСР соединение вызывать несколько методо
одновременно (то есть можно вызвать один метод, а затем второй, не дождавшись ответа на первый, при этом оба метода будут выполняться
на сервере параллельно, и после их выполнения, клиент ролучит оба ответа)
Cepeep
Работает в многопоточном режиме. Обеспечивает прием команд от нескольких клиентов. Логирует принятые команды отправленные ответыт (обьекты достаточно логировать
в виде строки используяметод toString())
Объектная модель приходищих команди их обработки: ровно один поток на ассept клиентов, по одному потоку на каждого клиента для
приема команд, а для обработки команд используется пул птоков (под потоком здесь понимается поток исполнения - Thread)
Клиент
Клиент обеспечивает отправку команд серверу через одно седнение при этом происходит логирование с какими параметрами был вызов
конды, и какой результпт вернулся.
Требоення:
- Лопирование должно производится при помощи log4j (vttp://karta.apache.org)
- Клиетское приложение обязательно должно создавать такую ситуаию, чтобы вызов нескольких методов происходил одновременно.
- При запуске сервера из командной строки, указывается локальный порт, который будет слушать сервер
Например:
java-cp classes com.mytest.Myserver 2323
При этом сервер должен зачитываит конфигурационный файл (sever.properties) такого ВИДА:
<название сервиса> = <Имя класса>
<название сервиса> = <Имя класса>
......
То есть на сервере может быть несколько сервисов разными
именами и набором методов.
При старте сервер создает ровно по одному обьекту для каждого сероиса (указанного класса) и запоминает их по имени.
Именно это название сервиса и будет использовать клиент при удаленном вызове.
Для демонстрации достаточно будет одного сервиса.
- Клиетн должен предостать интерфейс для удаленного вызова, чтобы его можно было легко использовать как библиотеку в
клиентском приложении.
Предлагается сделать
примерно такой интерфейс:
public class Client{
public Client(String host, int port) {...}
public Object remotoCall(String serviceName, String methodName, Object[] params) {...}
}
Метод remoteCall не должен быть синхронизированным, чтобы его можно было использовать из нескольких потоков одновременно.
Реализация клиента должна устанавливать соединение с сервером, и при вызове метода remoteCall посылать
команду на сервер и дожидаться ответа, метод должен быть блокирующим то есть пока не пришел ответ от серверавозврат  метода не происходит.
- Специално обработать на сервере ситуацию, когдазапросили несуществующий сервис или метод или указали параметры неверного типа или неверное их количество 
передать это клиенту. А на стороне клиента кидать специальный
Exception.
- Специальным образом передать возвращаемое значение в случае когда функции void
Подсказки:
- Для передачи объектов использоавать стандартную сериализацию;
- Для вызова методов сервис на стороне сервера использовать rеflection;
- Конфигурационный файл зачитывать при помощи Properties;
- Если возникнут проблемы с попированием можно использот System.out.println();
- Ипользовать java.util.concurrent;
- Для простоты-параметрами фуции не могут быть примитивные типы, а могут быть только объекты реализующие Serializable.
